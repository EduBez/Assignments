{"contentType":"application/gliffy+json","version":"1.1","metadata":{"title":"untitled","revision":0,"exportBorder":false},"embeddedResources":{"index":0,"resources":[]},"stage":{"objects":[{"x":20,"y":30,"rotation":0,"id":3,"uid":"com.gliffy.shape.basic.basic_v1.default.square","width":290,"height":290,"lockAspectRatio":true,"lockShape":false,"order":0,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#DA8707","fillColor":"#FCD186","gradient":true,"dropShadow":true,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":[{"x":1.0357142857142856,"y":0,"rotation":0,"id":5,"uid":null,"width":287.9285714285712,"height":196,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">PROBLEM\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">I and my team were tasked with reworking a project that had been rejected by the client due to poor performance.\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">The team leader from the first team had moved on from the company and I was given a leadership position.\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">My group was faced with trying to understand another group's design and implementation but we had no one to go to answer our questions.</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":20,"y":350,"rotation":0,"id":6,"uid":"com.gliffy.shape.basic.basic_v1.default.square","width":290,"height":290,"lockAspectRatio":true,"lockShape":false,"order":2,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#DA8707","fillColor":"#93c47d","gradient":true,"dropShadow":true,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":[{"x":1.0357142857142856,"y":0,"rotation":0,"id":7,"uid":null,"width":287.92857142857116,"height":280,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">SOLUTION\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">The first approach was to study the source code, learn from it and get familiarized with its codding practices.\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">Them we started profiling the code to find the performance bottlenecks by monitoring and instrumenting the code during runs.\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">The performance bottleneck was found, It was the misuse of std::list.\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">In this particular case, there where very few removal of elements and all insertions where at end of the collection.\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">The solution was straightforward the change from std::list to std::vector to take advantage of continuous memory and cache coherency</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":360,"y":175,"rotation":0,"id":8,"uid":"com.gliffy.shape.basic.basic_v1.default.square","width":290,"height":290,"lockAspectRatio":true,"lockShape":false,"order":5,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#DA8707","fillColor":"#c27ba0","gradient":true,"dropShadow":true,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":[{"x":1.0357142857142856,"y":0,"rotation":0,"id":9,"uid":null,"width":287.92857142857116,"height":140,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">LEARNING\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">What I learned from this, and still hold to it, is that std::vector is your friend, and should be your first container of choice.\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Verdana; color: rgb(49, 33, 1); white-space: pre-wrap; text-decoration: none; line-height: 14.5px;\">This was a common case of code \"pessimization\", possibly in the hope of improving performance, that actually backfired.</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]}],"background":"#FFFFFF","width":651,"height":640,"maxWidth":5000,"maxHeight":5000,"nodeIndex":10,"autoFit":true,"exportBorder":false,"gridOn":true,"snapToGrid":true,"drawingGuidesOn":true,"pageBreaksOn":false,"printGridOn":false,"printPaper":"LETTER","printShrinkToFit":false,"printPortrait":true,"shapeStyles":{"com.gliffy.shape.basic.basic_v2.default":{"fill":"#FFFFFF","stroke":"#3399FF","strokeWidth":2,"gradient":true}},"lineStyles":{},"textStyles":{},"themeData":{"uid":"com.gliffy.theme.goldfish","name":"Goldfish","shape":{"primary":{"strokeWidth":2,"strokeColor":"#DA8707","fillColor":"#FCD186","gradient":false,"dropShadow":false,"opacity":1,"text":{"color":"#312101","bold":null,"italic":null,"underline":null}},"secondary":{"strokeWidth":2,"strokeColor":"#AA9B2E","fillColor":"#E6DB77","gradient":false,"dropShadow":false,"opacity":1,"text":{"color":"#2A2709","bold":null,"italic":null,"underline":null}},"tertiary":{"strokeWidth":2,"strokeColor":"#3E6B3F","fillColor":"#70AE73","gradient":false,"dropShadow":false,"opacity":1,"text":{"color":"#FFFFFF","bold":null,"italic":null,"underline":null}},"highlight":{"strokeWidth":2,"strokeColor":"#0B5B61","fillColor":"#008D95","gradient":false,"dropShadow":false,"opacity":1,"text":{"color":"#FFFFFF","bold":null,"italic":null,"underline":null}}},"line":{"strokeWidth":2,"strokeColor":"DA8707","fillColor":"none","arrowType":2,"interpolationType":"linear","cornerRadius":10,"text":{"color":"#312101","bold":null,"italic":null,"underline":null}},"text":{"color":"#312101","bold":null,"italic":null,"underline":null},"stage":{"color":"#FFFFFF"}}}}